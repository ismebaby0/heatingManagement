<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.neusoft.ht.SystemSafety.mapper.IuseInfoMapper">

 <!-- 没有关联属性的结果映射 -->
  <resultMap id="UserResultMap" type="UserInfo" >
  	<id property="uuserid" column="UUSERID" />
  	<result property="upassword" column="UPASSWORD" />
   <result property="uname" column="UNAME" />
  </resultMap>
  
 <!-- 关联功能属性的结果映射 -->
   <resultMap id="UserInfoResultMapWithFunction" type="UserInfo" extends="UserResultMap">
    <collection property="functions" resultMap="com.neusoft.ht.SystemSafety.mapper.IFunctionMapper.FunctionResultMap"></collection>
  </resultMap>
  
 
 <insert id="create">
   insert into HT_UserInfo values (#{uuserid},#{sex},#{age},#{photo},#{photoFileName},#{photoContentType},#{mobile},#{photoContentType})
 </insert>
 
  <update id="update">
   update HT_UserInfo set Sex=#{sex},AGE=#{age},PHOTO=#{photo},PHOTOFileName=#{photoFileName},PhotoContentType=#{photoContentType},Tel=#{tel},Mobile=#{mobile} where UUSERID=#{uuserid}
  </update>
  
  <delete id="delete">
   delete from HT_UserInfo where UUSERID=#{uuserid}
  </delete>
   
 <select id="selectListWithAll" resultMap="UserResultMap">
  select * from HT_UserInfo
 </select>
 
  <select id="selectListById" resultMap="UserResultMap">
  select * from HT_UserInfo where UUSERID=#{uuserid}
 </select>
 
<<<<<<< HEAD
 <select id="selectWithFunction" resultMap="UserInfoResultMapWithFunction">
 
    select a.*, c.* from HT_UserInfo a  left outer join   HT_FunctionUser b on a.UUSERID=b.UUserID
   left outer join HT_Function c on b.FunNo=c.FUNNO 
=======
>>>>>>> branch 'master' of https://github.com/ismebaby0/heatingmanagement.git
 
 

</mapper>

